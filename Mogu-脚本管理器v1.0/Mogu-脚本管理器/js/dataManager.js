function _0x453a(){var _0x10836a=['55209hcvXsW','stringify','object','validateData','3871761fqlwfD','1.0','加载数据失败:','saveDataToFile(\x22','112WjwjMs','initialized','数据管理器未初始化','_backup_','6979752kcbzSd','toString','73595iCzkiR','scriptSettings','migrateOldData','undefined','scriptsFolderPath','toISOString','then','1537300kCiXJF','mergeWithDefaults','备份失败:\x20','1032mKzzCL','isArray','dataFilePath','createBackup','hasOwnProperty','保存失败:\x20','164IdCzJc','createDataBackup(\x22','无法获取扩展数据路径','\x22,\x20\x22','parse','catch','error','defaultData','.json','allTags','6283938QVViEG','18754JDGWUh','null','categories','replace','导入失败:\x20','exports','数据序列化失败:\x20','/moguBar_data.json','evalScript','loadData','success','now'];_0x453a=function(){return _0x10836a;};return _0x453a();}function _0x1c09(_0x5c89f4,_0x3a526f){var _0x453a87=_0x453a();return _0x1c09=function(_0x1c098c,_0x147b9d){_0x1c098c=_0x1c098c-0x192;var _0x475686=_0x453a87[_0x1c098c];return _0x475686;},_0x1c09(_0x5c89f4,_0x3a526f);}var _0x97be75=_0x1c09;(function(_0x387050,_0x10e71c){var _0x543128=_0x1c09,_0x5ede5e=_0x387050();while(!![]){try{var _0x2c9489=-parseInt(_0x543128(0x1c3))/0x1*(-parseInt(_0x543128(0x1a2))/0x2)+parseInt(_0x543128(0x19e))/0x3+parseInt(_0x543128(0x1b8))/0x4*(-parseInt(_0x543128(0x1a8))/0x5)+-parseInt(_0x543128(0x1c2))/0x6+-parseInt(_0x543128(0x19a))/0x7*(-parseInt(_0x543128(0x1b2))/0x8)+-parseInt(_0x543128(0x1a6))/0x9+-parseInt(_0x543128(0x1af))/0xa;if(_0x2c9489===_0x10e71c)break;else _0x5ede5e['push'](_0x5ede5e['shift']());}catch(_0x171ef8){_0x5ede5e['push'](_0x5ede5e['shift']());}}}(_0x453a,0xbdfbe));var DataManager={'dataFilePath':null,'initialized':![],'defaultData':{'version':_0x97be75(0x19f),'scriptsFolderPath':null,'scriptSettings':{},'categories':['全部'],'allTags':[],'scriptOrder':[],'layoutSettings':{'isGridLayout':![],'currentScale':0x1,'sidebarWidth':0x64},'backgroundSettings':null,'autoReadSubfolders':!![],'lastSaved':null},'init':function(_0x265bee){var _0x9dab6f=_0x97be75,_0x26fe00=this;if(_0x26fe00['initialized']){if(_0x265bee)_0x265bee(null,!![]);return;}csInterface[_0x9dab6f(0x196)]('getExtensionDataPath()',function(_0x21418c){var _0x4b2d2e=_0x9dab6f;if(_0x21418c&&_0x21418c!==_0x4b2d2e(0x1c4)){_0x26fe00[_0x4b2d2e(0x1b4)]=_0x21418c+_0x4b2d2e(0x195),_0x26fe00[_0x4b2d2e(0x1a3)]=!![];if(_0x265bee)_0x265bee(null,!![]);}else{if(_0x265bee)_0x265bee(_0x4b2d2e(0x1ba));}});},'loadData':function(_0x5de13c){var _0x9294e3=_0x97be75,_0x51d87f=this;if(!_0x51d87f[_0x9294e3(0x1a3)]||!_0x51d87f[_0x9294e3(0x1b4)]){if(_0x5de13c)_0x5de13c(_0x9294e3(0x1a4));return;}csInterface[_0x9294e3(0x196)]('loadDataFromFile(\x22'+_0x51d87f[_0x9294e3(0x1b4)]+'\x22)',function(_0x43c24e){var _0x23786d=_0x9294e3;try{if(_0x43c24e&&_0x43c24e!=='null'&&_0x43c24e!==_0x23786d(0x1ab)&&_0x43c24e!=='{}'){var _0x2ec0dc=JSON[_0x23786d(0x1bc)](_0x43c24e);!_0x2ec0dc['version']&&(_0x2ec0dc=_0x51d87f[_0x23786d(0x1aa)](_0x2ec0dc));_0x2ec0dc=_0x51d87f[_0x23786d(0x1b0)](_0x2ec0dc);if(_0x5de13c)_0x5de13c(null,_0x2ec0dc);}else{if(_0x5de13c)_0x5de13c(null,JSON['parse'](JSON[_0x23786d(0x19b)](_0x51d87f[_0x23786d(0x1bf)])));}}catch(_0x4dbc54){console[_0x23786d(0x1be)](_0x23786d(0x1a0),_0x4dbc54);if(_0x5de13c)_0x5de13c(null,JSON[_0x23786d(0x1bc)](JSON[_0x23786d(0x19b)](_0x51d87f[_0x23786d(0x1bf)])));}});},'saveData':function(_0x5892fd,_0x4878b){var _0x4add0e=_0x97be75,_0x51febc=this;if(!_0x51febc[_0x4add0e(0x1a3)]||!_0x51febc[_0x4add0e(0x1b4)]){if(_0x4878b)_0x4878b(_0x4add0e(0x1a4));return;}try{_0x5892fd['lastSaved']=new Date()[_0x4add0e(0x1ad)]();if(!_0x51febc[_0x4add0e(0x19d)](_0x5892fd)){if(_0x4878b)_0x4878b('数据验证失败');return;}var _0x1e8274=JSON[_0x4add0e(0x19b)](_0x5892fd,null,0x2),_0xbf7207=encodeURIComponent(_0x1e8274);csInterface[_0x4add0e(0x196)](_0x4add0e(0x1a1)+_0x51febc[_0x4add0e(0x1b4)]+_0x4add0e(0x1bb)+_0xbf7207+'\x22)',function(_0x5d80a6){var _0x5e7044=_0x4add0e;if(_0x5d80a6===_0x5e7044(0x198)){if(_0x4878b)_0x4878b(null,!![]);}else{if(_0x4878b)_0x4878b(_0x5e7044(0x1b7)+_0x5d80a6);}});}catch(_0x20c77a){if(_0x4878b)_0x4878b(_0x4add0e(0x194)+_0x20c77a[_0x4add0e(0x1a7)]());}},'validateData':function(_0x265e4a){var _0x115d54=_0x97be75;if(!_0x265e4a||typeof _0x265e4a!=='object')return![];if(!_0x265e4a[_0x115d54(0x1c5)]||!Array[_0x115d54(0x1b3)](_0x265e4a['categories']))return![];if(!_0x265e4a['allTags']||!Array[_0x115d54(0x1b3)](_0x265e4a['allTags']))return![];if(!_0x265e4a[_0x115d54(0x1a9)]||typeof _0x265e4a[_0x115d54(0x1a9)]!==_0x115d54(0x19c))return![];return!![];},'mergeWithDefaults':function(_0x5aa139){var _0x586ee6=_0x97be75,_0x200da6=JSON[_0x586ee6(0x1bc)](JSON[_0x586ee6(0x19b)](this[_0x586ee6(0x1bf)]));function _0x52d855(_0x448545,_0x1c55a3){var _0x3cf35e=_0x586ee6;for(var _0x57c29e in _0x1c55a3){_0x1c55a3[_0x3cf35e(0x1b6)](_0x57c29e)&&(typeof _0x1c55a3[_0x57c29e]==='object'&&_0x1c55a3[_0x57c29e]!==null&&!Array[_0x3cf35e(0x1b3)](_0x1c55a3[_0x57c29e])?((!_0x448545[_0x57c29e]||typeof _0x448545[_0x57c29e]!=='object')&&(_0x448545[_0x57c29e]={}),_0x52d855(_0x448545[_0x57c29e],_0x1c55a3[_0x57c29e])):_0x448545[_0x57c29e]=_0x1c55a3[_0x57c29e]);}}return _0x52d855(_0x200da6,_0x5aa139),_0x200da6;},'migrateOldData':function(_0x400945){var _0x4ccae0=_0x97be75,_0x5e9a0b=JSON['parse'](JSON[_0x4ccae0(0x19b)](this['defaultData']));if(_0x400945[_0x4ccae0(0x1ac)])_0x5e9a0b[_0x4ccae0(0x1ac)]=_0x400945['scriptsFolderPath'];if(_0x400945['scriptSettings'])_0x5e9a0b[_0x4ccae0(0x1a9)]=_0x400945[_0x4ccae0(0x1a9)];if(_0x400945['categories'])_0x5e9a0b[_0x4ccae0(0x1c5)]=_0x400945[_0x4ccae0(0x1c5)];if(_0x400945[_0x4ccae0(0x1c1)])_0x5e9a0b[_0x4ccae0(0x1c1)]=_0x400945[_0x4ccae0(0x1c1)];return _0x5e9a0b;},'createBackup':function(){var _0x265211=this;return new Promise(function(_0x2f105b,_0x254684){var _0x142eb5=_0x1c09,_0x2a1a3b=_0x265211['dataFilePath'][_0x142eb5(0x1c6)](_0x142eb5(0x1c0),_0x142eb5(0x1a5)+Date[_0x142eb5(0x199)]()+_0x142eb5(0x1c0));csInterface[_0x142eb5(0x196)](_0x142eb5(0x1b9)+_0x265211['dataFilePath']+'\x22,\x20\x22'+_0x2a1a3b+'\x22)',function(_0x23e7ea){var _0x1e9345=_0x142eb5;_0x23e7ea===_0x1e9345(0x198)?_0x2f105b(_0x2a1a3b):_0x254684(_0x1e9345(0x1b1)+_0x23e7ea);});});},'exportData':function(){var _0x329a77=this;return new Promise(function(_0x3b8f18,_0x436115){var _0xccd4fe=_0x1c09;_0x329a77[_0xccd4fe(0x197)]()['then'](function(_0x862921){var _0xf52838=_0xccd4fe,_0x5ebb0a=JSON[_0xf52838(0x1bc)](JSON[_0xf52838(0x19b)](_0x862921));delete _0x5ebb0a[_0xf52838(0x1ac)],_0x3b8f18(_0x5ebb0a);})[_0xccd4fe(0x1bd)](_0x436115);});},'importData':function(_0x4e8483){var _0x1d8497=this;return new Promise(function(_0x262af1,_0x4669a5){var _0x18f03f=_0x1c09;try{if(!_0x1d8497[_0x18f03f(0x19d)](_0x4e8483)){_0x4669a5('导入数据格式无效');return;}_0x1d8497[_0x18f03f(0x1b5)]()[_0x18f03f(0x1ae)](function(){return _0x1d8497['loadData']();})['then'](function(_0x562d40){var _0xfcdd30=_0x18f03f,_0x2d20f2=_0x1d8497['mergeWithDefaults'](_0x4e8483);return _0x2d20f2[_0xfcdd30(0x1ac)]=_0x562d40[_0xfcdd30(0x1ac)],_0x1d8497['saveData'](_0x2d20f2);})[_0x18f03f(0x1ae)](function(){_0x262af1(!![]);})[_0x18f03f(0x1bd)](_0x4669a5);}catch(_0x55cab2){_0x4669a5(_0x18f03f(0x192)+_0x55cab2[_0x18f03f(0x1a7)]());}});}};typeof module!=='undefined'&&module[_0x97be75(0x193)]&&(module['exports']=DataManager);